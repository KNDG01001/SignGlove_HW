# SignGlove 한국어 수어 데이터 수집 실험 설계

## 🎯 실험 목표

34개 한국어 수어 클래스(자음 14개 + 모음 10개 + 숫자 10개)에 대한 고품질 센서 데이터 수집을 통해 머신러닝 학습용 데이터셋을 구축합니다.

## 👥 실험 팀 구성 (3명)

### 1️⃣ 실험자 (장갑 착용자)
- **역할**: 수어 동작 수행
- **책임**: 
  - 정확한 수어 동작 실행
  - 일관된 동작 속도 유지 (3-5초)
  - 자연스러운 수어 표현

### 2️⃣ 실험보조자 (센서 관리자)
- **역할**: 초기자세 고정 및 센서 초기화
- **책임**:
  - 팔 위치를 수평상에서 고정
  - 자이로 센서를 0,0,0으로 초기화
  - 고정대 제거 타이밍 조절
  - 각 에피소드 간 초기 상태 복원

### 3️⃣ 데이터 수집자 (시스템 운영자)
- **역할**: 데이터 수집 시스템 운영
- **책임**:
  - Python 통합 수집기 실행 및 모니터링
  - 수집 진행률 추적
  - 데이터 품질 실시간 확인
  - 시스템 오류 대응

## 🔧 실험 환경 구성

### 하드웨어 설정
```
실험자(장갑) ← Arduino Nano 33 IoT ← USB ← PC(수집 시스템)
     ↓              ↓
팔 고정대        IMU + Flex Sensors
     ↓              ↓
수평 기준점    센서 초기화(0,0,0)
```

### 센서 배치
- **IMU 센서**: 손목 부분 (LSM6DS3)
- **플렉스 센서**: 각 손가락 (A0, A1, A2, A3, A6)
- **고정대**: 팔꿈치-손목 수평 고정용

## 📋 실험 프로토콜

### Phase 1: 준비 단계
1. **환경 설정**
   - 실험실 조명 일정하게 유지
   - 외부 자기장 간섭 최소화
   - 작업 공간 확보 (1m x 1m)

2. **하드웨어 초기화**
   ```bash
   python integration/signglove_unified_collector.py
   ```
   - 'C' 키로 아두이노 연결 확인
   - 센서 데이터 스트림 정상 여부 점검

3. **실험자 준비**
   - SignGlove 착용 및 센서 연결 확인
   - 팔 위치를 수평 고정대에 고정
   - 자이로 센서를 0,0,0으로 초기화
   - 5분간 센서 안정화 대기

### Phase 2: 데이터 수집 단계
1. **고정대 제거**
   - 실험보조자가 신호와 함께 고정대 제거
   - 실험자는 초기 자세 유지

2. **클래스별 측정 순서**
   - **우선순위 1**: ㄱ, ㄴ, ㄷ, ㄹ, ㅁ (기본 자음)
   - **우선순위 2**: ㅂ, ㅅ, ㅇ, ㅈ, ㅊ + ㅏ, ㅓ, ㅗ, ㅜ, ㅡ, ㅣ
   - **우선순위 3**: ㅋ, ㅌ, ㅍ, ㅎ + ㅑ, ㅕ, ㅛ, ㅠ + 0-9

3. **에피소드 수집 절차**
   ```
   실험보조자: "다음 클래스: ㄱ"
   데이터 수집자: 'N' 키 → 클래스 선택 (1-34)
   실험보조자: "시작!"
   실험자: 3-5초간 자연스러운 수어 동작
   실험보조자: "종료!"
   데이터 수집자: 'M' 키 → 에피소드 저장
   ```

### Phase 3: 품질 관리 단계
1. **실시간 품질 확인**
   - 샘플링 레이트: 20-100Hz 유지
   - 센서 값 범위: 플렉스(0-1023), 자이로(-180~180°)
   - 에피소드 길이: 2-10초 권장

2. **재측정 기준**
   - 샘플링 레이트 < 20Hz
   - 센서 값 포화 또는 이상치 발생
   - 동작 불완전 또는 중단

## ⚠️ 실험 유의사항 및 고려 케이스

### 🔴 Critical 유의사항

#### 1. 센서 드리프트 관리
- **문제**: IMU 센서의 시간 경과에 따른 오차 누적
- **대응**: 
  - 매 10개 에피소드마다 센서 재초기화
  - 기준 자세로 복귀 후 드리프트 점검
  - 필요시 전체 시스템 재시작

#### 2. 플렉스 센서 안정성
- **문제**: 반복 굽힘으로 인한 센서 특성 변화
- **대응**:
  - 실험 전 100회 굽힘 예열
  - 센서별 기준값 주기적 점검
  - 값 범위 700-900 벗어날 시 교체

#### 3. 무선 간섭 최소화
- **문제**: 2.4GHz 대역 WiFi/Bluetooth 간섭
- **대응**:
  - 유선 USB 연결 사용 (WiFi 미사용)
  - 주변 무선 기기 최소화
  - 실험실 전자파 환경 사전 점검

### 🟡 Warning 케이스

#### 1. 실험자 피로도 관리
- **증상**: 동작 정확도 저하, 속도 변화
- **대응책**:
  - 30분마다 10분 휴식
  - 1시간마다 15분 스트레칭
  - 최대 연속 실험시간: 2시간

#### 2. 환경 변수 통제
- **온도**: 20-25°C 유지 (센서 안정성)
- **습도**: 40-60% 유지 (플렉스 센서 보호)
- **조명**: 일정한 실내조명 (실험자 시야)

#### 3. 데이터 백업 전략
- **실시간 백업**: 에피소드별 즉시 저장
- **세션 백업**: 30분마다 전체 데이터 복사
- **일일 백업**: 클라우드/외부 저장소 업로드

### 🟢 Best Practice

#### 1. 동작 표준화
- **시작 자세**: 팔 수평, 손바닥 아래 방향
- **동작 속도**: 3-5초 균등 분배
- **종료 자세**: 시작 자세로 복귀
- **호흡**: 자연스러운 호흡 유지

#### 2. 데이터 품질 향상
- **반복 수집**: 클래스당 최소 50개 에피소드
- **다양성 확보**: 속도, 크기 약간 변화
- **일관성 유지**: 핵심 동작 특징 보존

## 📊 예상 실험 시간

### 단일 세션 (2시간)
- **준비**: 30분 (환경 설정 + 센서 초기화)
- **수집**: 90분 (클래스당 평균 2.5분)
- **정리**: 30분 (데이터 확인 + 백업)

### 전체 프로젝트 (총 2,460개 에피소드)
- **총 세션 수**: 약 15-20세션
- **총 소요 기간**: 3-4주 (주 5회 기준)
- **클래스별 완료**: 우선순위 순서로 점진적

## 🎓 예상 결과물

### 데이터셋 구성
```
datasets/unified/
├── episode_YYYYMMDD_HHMMSS_ㄱ.h5  (100개)
├── episode_YYYYMMDD_HHMMSS_ㄴ.h5  (100개)
├── ...                           (총 2,460개)
└── collection_progress.json      (진행률 추적)
```

### 품질 지표
- **샘플링 레이트**: 평균 40Hz 이상
- **신호 품질**: SNR > 20dB
- **완료율**: 목표 에피소드 100% 달성
- **일관성**: 클래스 내 변동계수 < 0.2

## 🔧 문제 해결 가이드

### 연결 문제
```bash
# 아두이노 연결 확인
python integration/signglove_unified_collector.py
# → 'C' 키로 연결 테스트

# 포트 수동 지정 (필요시)
ls /dev/cu.usbmodem* 
```

### 데이터 품질 점검
```python
# H5 파일 품질 확인
python -c "
import h5py
with h5py.File('episode_20250126_120000_ㄱ.h5', 'r') as f:
    print(f'샘플 수: {f.attrs[\"num_samples\"]}')
    print(f'평균 Hz: {f.attrs[\"avg_sampling_rate\"]:.1f}')
    print(f'지속 시간: {f.attrs[\"episode_duration\"]:.1f}초')
"
```

### 긴급 상황 대응
1. **센서 값 이상**: 즉시 실험 중단, 하드웨어 점검
2. **소프트웨어 오류**: 'Q' 키로 안전 종료 후 재시작
3. **데이터 손실**: 백업 파일에서 복구

---

**🤟 SignGlove 실험이 성공적으로 진행되어 한국어 수어 인식 기술 발전에 기여하기를 기원합니다!**
