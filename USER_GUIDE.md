# SignGlove 수어 데이터 수집기 사용 설명서

## 📌 개요
SignGlove 통합 수어 데이터 수집기는 한국어 수어 34개 클래스(자음 14개, 모음 10개, 숫자 10개)의 데이터를 수집하는 도구입니다.

## 🎯 수집 대상 클래스
- **자음 (14개)**: ㄱ, ㄴ, ㄷ, ㄹ, ㅁ, ㅂ, ㅅ, ㅇ, ㅈ, ㅊ, ㅋ, ㅌ, ㅍ, ㅎ
- **모음 (10개)**: ㅏ, ㅑ, ㅓ, ㅕ, ㅗ, ㅛ, ㅜ, ㅠ, ㅡ, ㅣ
- **숫자 (10개)**: 0, 1, 2, 3, 4, 5, 6, 7, 8, 9

## 💻 실행 방법

### 1. 일반 실행 모드
```powershell
python ser.py
```

### 2. 자동 수집 모드
```powershell
python auto_collect.py
```

## 🎮 키 조작 방법
| 키 | 기능 | 설명 |
|---|---|---|
| `C` | 연결/재연결 | 아두이노와 시리얼 연결을 시도합니다 |
| `N` | 새 에피소드 | 새로운 수집을 시작합니다 (클래스 선택) |
| `M` | 현재 수집 종료 | 현재 진행 중인 수집을 종료합니다 |
| `I` | 초기 자세 확인 | 현재 자세가 기준 자세와 일치하는지 확인합니다 |
| `S` | 초기 자세 설정 | 현재 자세를 기준 자세로 설정합니다 |
| `T` | 실시간 출력 | 센서값 실시간 출력을 켜고 끕니다 |
| `P` | 진행 상황 | 전체 진행 상황을 표시합니다 |
| `D` | 초기화 | 모든 데이터와 진행 상황을 초기화합니다 |
| `Q` | 종료 | 프로그램을 종료합니다 |

## 📊 데이터 수집 방식
- 각 클래스별로 5가지 유형의 데이터를 수집합니다:
  1. 많이 손가락이 펴짐
  2. 조금 손가락이 펴짐
  3. 기본
  4. 조금 손가락이 구부러짐
  5. 많이 손가락이 구부러짐

- 각 유형당 60회씩 수집합니다 (이전 12회에서 증가)
- 각 에피소드는 80개의 샘플을 수집합니다
- 샘플링 레이트는 33Hz로 고정되어 있습니다

## 💾 저장 형식
데이터는 두 가지 형식으로 자동 저장됩니다:
1. **H5 파일**: 전체 센서 데이터와 메타데이터를 포함
2. **CSV 파일**: 원본 데이터를 표 형식으로 저장

### 저장 경로 구조
```
datasets/
└── unified/
    └── {클래스명}/
        └── {유형번호}/
            ├── episode_{timestamp}_{클래스}_{유형}.h5
            └── episode_{timestamp}_{클래스}_{유형}.csv
```

## 🔄 자동 수집 모드
`auto_collect.py`를 실행하면:
1. 자동으로 아두이노 연결을 시도합니다
2. 수집할 클래스를 선택할 수 있습니다:
   - 0 입력: 모든 클래스 자동 수집
   - 1-34 입력: 특정 클래스만 수집
3. Ctrl+C로 언제든지 중단 가능합니다

## ⚠️ 주의 사항
1. 수집 시작 전 반드시 아두이노가 연결되어 있어야 합니다
2. 'S' 키로 초기 자세를 설정한 후 'I' 키로 자세를 확인하며 수집하는 것을 권장합니다
3. 수집 중 'Q' 키를 누르면 현재 수집이 중단됩니다
4. 'D' 키로 초기화 시 모든 데이터가 삭제되니 주의하세요

## 🐛 문제 해결
- **아두이노 연결 실패 시**:
  1. USB 케이블 연결 상태 확인
  2. 'C' 키를 눌러 재연결 시도
  3. 아두이노 재부팅 후 다시 시도

- **데이터 수집이 불안정할 때**:
  1. 'M' 키로 현재 수집 중단
  2. 버퍼 안정화를 위해 잠시 대기
  3. 'N' 키로 새로운 수집 시작

## 📈 진행 상황 확인
- 'P' 키를 누르면 전체 진행 상황을 확인할 수 있습니다
- 각 클래스별 진행률과 남은 수집 횟수가 표시됩니다
- 자음/모음/숫자 카테고리별 진행 상황도 확인 가능합니다